syntax = "proto3";

package api;
// option go_package = "github.com/supermihi/karlchencloud/api";
option go_package = ".;api";

service Karlchencloud {
    rpc Register (RegisterRequest) returns (RegisterReply) {
    }

    rpc CheckLogin (EmptyRequest) returns (OkOrNot) {
    }

    rpc ListTables (EmptyRequest) returns (TableList) {
    }

    rpc CreateTable (EmptyRequest) returns (TableData) {
    }

    rpc StartTable (TableId) returns (EmptyReply) {
    }

    rpc JoinTable (JoinTableRequest) returns (EmptyReply) {
    }
}

message EmptyRequest {

}

message OkOrNot {
    bool value = 1;
}

message RegisterRequest {
    string name = 1;
}

message RegisterReply {
    string id = 1;
    string secret = 2;
}

message TableId {
    string value = 1;
}

message TableData {
    string tableId = 1;
    string owner = 2;
    string inviteCode = 3;
}

message TableList {
    repeated TableData tables = 1;
}

message JoinTableRequest {
    string tableId = 1;
    string inviteCode = 2;
}
message EmptyReply {
}